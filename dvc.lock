schema: '2.0'
stages:
  preprocess:
    cmd: python src/data_preprocessing.py
    deps:
    - path: data/raw/train.csv
      hash: md5
      md5: 2309cc5f04782ed9bb6016d9f4e381cf
      size: 61194
      isexec: true
    - path: params.yaml
      hash: md5
      md5: cd970cb0b6de09c7d322e9d78ee6dcf2
      size: 1483
      isexec: true
    - path: src/data_preprocessing.py
      hash: md5
      md5: 50192dcde5efd2fa8a8bfa108cfb9e8d
      size: 2956
      isexec: true
    outs:
    - path: data/processed/titanic_preprocessed/processed_train.parquet
      hash: md5
      md5: 73e0222f21f8ad0a5750508e22abaaf6.dir
      size: 7548
      nfiles: 4
  baseline_stats:
    cmd: python src/baseline_stats.py
    deps:
    - path: data/processed/titanic_preprocessed/processed_train.parquet
      hash: md5
      md5: 73e0222f21f8ad0a5750508e22abaaf6.dir
      size: 7548
      nfiles: 4
    - path: params.yaml
      hash: md5
      md5: cd970cb0b6de09c7d322e9d78ee6dcf2
      size: 1483
      isexec: true
    - path: src/baseline_stats.py
      hash: md5
      md5: 595765b3547c5c1b85bd07ba7603a145
      size: 2275
      isexec: true
    outs:
    - path: data/baseline_stats/baseline_stats.json
      hash: md5
      md5: 53a64076544981e47a2bfb7e5ce23fc8
      size: 1002
      isexec: true
  train_model:
    cmd: python src/train_model.py
    deps:
    - path: data/processed/titanic_preprocessed/processed_train.parquet
      hash: md5
      md5: 73e0222f21f8ad0a5750508e22abaaf6.dir
      size: 7548
      nfiles: 4
    - path: params.yaml
      hash: md5
      md5: cd970cb0b6de09c7d322e9d78ee6dcf2
      size: 1483
      isexec: true
    - path: src/train_model.py
      hash: md5
      md5: 66183d3bbf07e31a26d71568b5e4838d
      size: 9888
      isexec: true
    outs:
    - path: models/best_model
      hash: md5
      md5: 9cec2411e23ee7fb5981e8b32298e124.dir
      size: 5917
      nfiles: 16
  simulate_drift:
    cmd: python src/simulate_drift.py
    deps:
    - path: params.yaml
      hash: md5
      md5: cd970cb0b6de09c7d322e9d78ee6dcf2
      size: 1483
      isexec: true
    - path: src/simulate_drift.py
      hash: md5
      md5: 89c9a4118ef01ac57426590c88b67fe7
      size: 1893
      isexec: true
    outs:
    - path: data/processed/titanic_preprocessed_drifted/
      hash: md5
      md5: d81a8179e41a84cf80212994a0ec05a5.dir
      size: 7681
      nfiles: 4
  drift_detection:
    cmd: python src/drift_detection.py
    deps:
    - path: data/baseline_stats/baseline_stats.json
      hash: md5
      md5: 53a64076544981e47a2bfb7e5ce23fc8
      size: 1002
      isexec: true
    - path: data/processed/titanic_preprocessed_drifted/
      hash: md5
      md5: d81a8179e41a84cf80212994a0ec05a5.dir
      size: 7681
      nfiles: 4
    - path: params.yaml
      hash: md5
      md5: cd970cb0b6de09c7d322e9d78ee6dcf2
      size: 1483
      isexec: true
    - path: src/drift_detection.py
      hash: md5
      md5: dda9902b17f27be5a54857bd50b39478
      size: 4786
      isexec: true
    outs:
    - path: report/drift_report.json
      hash: md5
      md5: 99914b932bd37a50b983c5e7c90ae93b
      size: 2
      isexec: true
  retrain:
    cmd: python src/automated_retrain.py
    deps:
    - path: data/raw/train.csv
      hash: md5
      md5: 2309cc5f04782ed9bb6016d9f4e381cf
      size: 61194
      isexec: true
    - path: params.yaml
      hash: md5
      md5: cd970cb0b6de09c7d322e9d78ee6dcf2
      size: 1483
      isexec: true
    - path: report/drift_report.json
      hash: md5
      md5: 99914b932bd37a50b983c5e7c90ae93b
      size: 2
      isexec: true
    - path: src/automated_retrain.py
      hash: md5
      md5: 6e5f635b9473670a193d7797ef58930a
      size: 2773
      isexec: true
    - path: src/data_preprocessing.py
      hash: md5
      md5: 50192dcde5efd2fa8a8bfa108cfb9e8d
      size: 2956
      isexec: true
    - path: src/drift_detection.py
      hash: md5
      md5: dda9902b17f27be5a54857bd50b39478
      size: 4786
      isexec: true
    - path: src/train_model.py
      hash: md5
      md5: 66183d3bbf07e31a26d71568b5e4838d
      size: 9888
      isexec: true
    outs:
    - path: report/retrain_drift_report.json
      hash: md5
      md5: 99914b932bd37a50b983c5e7c90ae93b
      size: 2
      isexec: true
